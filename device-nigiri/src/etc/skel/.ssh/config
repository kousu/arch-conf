StrictHostKeyChecking accept-new
# TODO: also deploy /etc/ssh/known_hosts pre-seeded with my servers.

# personally, I prefer to always see hostnames in ~/.ssh/known_hosts
# so I can edit it directly instead of using ssh-keygen.
# 'no' is the default, but some distros override the default the other way
# and I just want to be very clear to future self
HashKnownHosts no

AddKeysToAgent 45m

# Beware: includes must happen *before* any Host or Match lines
# because otherwise they become conditional.

# You can check on how ssh is interpreting its config with `ssh -G server.example.com`

Include ~/.ssh/config_*

Host gitlab.com github.com salsa.debian.org
  User git
  #IdentityFile ~/.ssh/id_ed25519.coding

Host *
  ControlMaster auto
  ControlPath ~/.ssh/%r@%h:%p
  ControlPersist 3s

  # some older servers need this
  # this is less secure. These algorithms were disabled for a reason.
  # You should instead specify this on a Host-by-host basis
  HostKeyAlgorithms +ssh-rsa
